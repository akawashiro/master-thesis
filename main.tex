% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
\newif\ifnotanonymous \notanonymoustrue
\newif\iffullversion \fullversiontrue
\documentclass[master,english]{kuisthesis}
%
\usepackage{graphicx}
\usepackage{color}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bcprules, proof}
\usepackage{fancybox}
\usepackage{mathtools}
\usepackage{float}
\usepackage{xparse}
\usepackage{lscape}
\usepackage{xspace}
\usepackage{url}
\usepackage{bcpproof}

% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
\usepackage{cite}
\usepackage{hyperref}
\renewcommand\UrlFont{\color{blue}\rmfamily}

\newcommand{\red}[1]{\textcolor{red}{#1 }}
\newcommand{\blue}[1]{\textcolor{blue}{#1 }}

\input{fig-src/symbols.tex}

\newcommand{\rulefbox}[1]{\fbox{\ensuremath{#1}} \hspace{1mm}}

\newcommand{\AI}[1]{\textcolor{red}{[#1 -- AI]}}
\newcommand{\AK}[1]{\textcolor{blue}{[#1 -- AK]}}

\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}

\begin{document}

\jtitle{依存型を含む多段階計算体型}
\etitle{A Dependently Typed Multi-Stage Calculus}
\jauthor{河田 旺}				% Author name in Japanese
\eauthor{Akira Kawata}			% Author name in English
\supervisor{Professor Atsushi Igarashi}		% Name of your Supervisor
\date{Feburary 15, 2020}			% Submission date
\department{Communications and Computer Engineering}			% Dept. name

\maketitle

\begin{eabstract}

We study a dependently typed extension of a multi-stage programming language \`a la MetaOCaml, which supports quasi-quotation and cross-stage persistence for manipulation of code fragments as first-class values and an evaluation construct for execution of programs dynamically generated by this code manipulation. Multi-stage programming enables us to utilize run-time information for code generation, a.k.a run-time specialization. We expect that dependent types bring to multi-stage programming enforcement of strong invariant---beyond simple type safety---on the behavior of dynamically generated code. For example, when we generate code fragments handling vectors, we can restrict their length only to the desired one by dependent types. However, an extension of multi-stage programming is not trivial because such a type system would have to take stages of types---roughly speaking, the number of surrounding quotations---into account.

To rigorously study properties of such an extension, we develop \LMD, which is an extension of Hanada and Igarashi's typed calculus \LTP with dependent types, and prove its properties, including preservation, confluence, strong normalization for full reduction, and progress for staged reduction. In addition to regular typing, we designed algorithmic typing of \LMD in order to implement a type-checking algorithm, and we proved its soundness and completeness, which means it is equivalent to regular typing. Motivated by code generators that generate code whose type depends on a value from outside of the quotations, we argue the significance of cross-stage persistence in dependently typed multi-stage programming and certain type equivalences that are not directly derived from reduction rules. 


\end{eabstract}

\begin{jabstract}				% Abstract in Japanese
日本語で概要を書く
\end{jabstract}

\tableofcontents				% Output table of contents

\input{main-src/introduction.tex}

\input{main-src/informal-overview.tex}

\input{main-src/formal-definition.tex}

\input{main-src/properties.tex}

\input{main-src/related-work.tex}

\input{main-src/conclusion.tex}

\input{main-src/acknowledgments.tex}

\bibliographystyle{kuisunsrt}
\bibliography{main}

\iffullversion
\appendix

%\newtheorem{thm}{Theorem}
\newtheorem{dfn}{Definition}
\newtheorem{ex}{Example}
\newtheorem{cm}{Comment}
\newcommand{\figheader}[2]{
  \begin{flushleft}
    #2 {\bf \normalsize #1}
\end{flushleft}}

\newpage
\section{Full Definition of \LMD}
\input{main-src/fulldefinitions}

\section{Proofs}
\input{main-src/proofs}

\fi

\end{document}
