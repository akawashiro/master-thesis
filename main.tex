% This is samplepaper.tex, a sample chapter demonstrating the
% LLNCS macro package for Springer Computer Science proceedings;
% Version 2.20 of 2017/10/04
%
\newif\ifnotanonymous \notanonymoustrue
\newif\iffullversion \fullversionfalse
\documentclass[master,english]{kuisthesis}
%
\usepackage{graphicx}
\usepackage{color}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bcprules, proof}
\usepackage{fancybox}
\usepackage{mathtools}
\usepackage{float}
\usepackage{xparse}
\usepackage{lscape}
\usepackage{xspace}
\usepackage{url}
\usepackage{bcpproof}

% Used for displaying a sample figure. If possible, figure files should
% be included in EPS format.
%
% If you use the hyperref package, please uncomment the following line
% to display URLs in blue roman font according to Springer's eBook style:
\usepackage{cite}
\usepackage{hyperref}
\renewcommand\UrlFont{\color{blue}\rmfamily}

\newcommand{\red}[1]{\textcolor{red}{#1 }}
\newcommand{\blue}[1]{\textcolor{blue}{#1 }}

\newcommand{\LTP}{$\lambda^{\triangleright\%}$\xspace}
\newcommand{\LMD}{$\lambda^{\textrm{MD}}$\xspace}
\newcommand{\LLF}{$\lambda\textrm{LF}$\xspace}

\newcommand{\G}{\Gamma}
\newcommand{\D}{\Delta}
\newcommand{\V}{\vdash_\Sigma}
\newcommand{\VT}{\vdash\hspace{-.50em}\raisebox{0.28em}{\tiny{$\TB$}}}
\newcommand{\iskind}{\text{\ kind}}
\newcommand{\TW}{{\mathop{\triangleright}}}
\newcommand{\TWL}{{\mathop{\triangleleft}}}
\newcommand{\F}{\forall}
\newcommand{\TB}{{\mathop{\blacktriangleright}}}
\newcommand{\TBL}{{\mathop{\blacktriangleleft}}}
\newcommand{\E}{\equiv}
\newcommand{\FV}{\text{FV}}
\newcommand{\FTV}{\text{FSV}}

\newcommand{\WStar}{\textsc{W-Star}}
\newcommand{\WAbs}{\textsc{W-Abs}}
\newcommand{\WCsp}{\textsc{W-Csp}}
\newcommand{\WApp}{\textsc{W-App}}
\newcommand{\WTW}{\textsc{W-$\TW$}}

\newcommand{\KVar}{\textsc{K-Var}}
\newcommand{\KTConst}{\textsc{K-TConst}}
\newcommand{\KAbs}{\textsc{K-Abs}}
\newcommand{\KApp}{\textsc{K-App}}
\newcommand{\KConv}{\textsc{K-Conv}}
\newcommand{\KTW}{\textsc{K-$\TW$}}
\newcommand{\KTWL}{\textsc{K-$\TWL$}}
\newcommand{\KGen}{\textsc{K-Gen}}
\newcommand{\KCsp}{\textsc{K-Csp}}

\newcommand{\TConst}{\textsc{T-Const}}
\newcommand{\TVar}{\textsc{T-Var}}
\newcommand{\TAbs}{\textsc{T-Abs}}
\newcommand{\TApp}{\textsc{T-App}}
\newcommand{\TConv}{\textsc{T-Conv}}
\newcommand{\TTB}{\textsc{T-$\TB$}}
\newcommand{\TTBL}{\textsc{T-$\TBL$}}
\newcommand{\TGen}{\textsc{T-Gen}}
\newcommand{\TIns}{\textsc{T-Ins}}
\newcommand{\TCsp}{\textsc{T-Csp}}

\newcommand{\QKAbs}{\textsc{QK-Abs}}
\newcommand{\QKCsp}{\textsc{QK-Csp}}
\newcommand{\QKRefl}{\textsc{QK-Refl}}
\newcommand{\QKSym}{\textsc{QK-Sym}}
\newcommand{\QKTrans}{\textsc{QK-Trans}}

\newcommand{\QTAbs}{\textsc{QT-Abs}}
\newcommand{\QTApp}{\textsc{QT-App}}
\newcommand{\QTTW}{\textsc{QT-$\TW$}}
\newcommand{\QTGen}{\textsc{QT-Gen}}
\newcommand{\QTCsp}{\textsc{QT-Csp}}
\newcommand{\QTRefl}{\textsc{QT-Refl}}
\newcommand{\QTSym}{\textsc{QT-Sym}}
\newcommand{\QTTrans}{\textsc{QT-Trans}}

\newcommand{\QAbs}{\textsc{Q-Abs}}
\newcommand{\QApp}{\textsc{Q-App}}
\newcommand{\QTB}{\textsc{Q-$\TB$}}
\newcommand{\QTBL}{\textsc{Q-$\TBL$}}
\newcommand{\QGen}{\textsc{Q-Gen}}
\newcommand{\QIns}{\textsc{Q-Ins}}
\newcommand{\QCsp}{\textsc{Q-Csp}}
\newcommand{\QRefl}{\textsc{Q-Refl}}
\newcommand{\QSym}{\textsc{Q-Sym}}
\newcommand{\QTrans}{\textsc{Q-Trans}}
\newcommand{\QBeta}{\textsc{Q-$\beta$}}
\newcommand{\QEta}{\textsc{Q-$\eta$}}
\newcommand{\QTBLTB}{\textsc{Q-$\TBL\TB$}}
\newcommand{\QLambda}{\textsc{Q-$\Lambda$}}
\newcommand{\QPercent}{\textsc{Q-\%}}

\newcommand{\ID}[1]{\infer[]{#1}{\vdots}}
\newcommand{\MD}[1]{\mathcal{D}_#1}

\newcommand{\I}{\textrm{Int}}
\newcommand{\B}{\textrm{Bool}}
\newcommand{\M}{\textrm{Mat}}

\newcommand{\rulefbox}[1]{\fbox{\ensuremath{#1}} \hspace{1mm}}

\newcommand{\AI}[1]{\textcolor{red}{[#1 -- AI]}}
\newcommand{\AK}[1]{\textcolor{blue}{[#1 -- AK]}}

\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}

\begin{document}

\jtitle{依存型を含む多段階計算体型}
\etitle{A Dependently Typed Multi-Stage Calculus}
\jauthor{河田 旺}				% Author name in Japanese
\eauthor{Akira Kawata}			% Author name in English
\supervisor{Professor Atsushi Igarashi}		% Name of your Supervisor
\date{Feburary 15, 2020}			% Submission date
\department{Communications and Computer Engineering}			% Dept. name

\maketitle

\begin{eabstract}

	We study a dependently typed extension of a multi-stage programming language
\`a la MetaOCaml, which supports quasi-quotation and cross-stage persistence
for manipulation of code fragments as first-class values and an evaluation
construct for execution of programs dynamically generated by this code
manipulation. Dependent types are expected to bring to multi-stage
programming enforcement of strong invariant---beyond simple type safety---on
the behavior of dynamically generated code. An extension is, however, not
trivial because such a type system would have to take stages of types---roughly speaking,
the number of surrounding quotations---into account.

To rigorously study properties of such an extension, we develop \LMD, which
is an extension of Hanada and Igarashi's typed calculus \LTP with dependent
types, and prove its properties including preservation, confluence, strong
normalization for full reduction, and progress for staged reduction.
Motivated by code generators that generate code whose type depends on
a value from outside of the quotations, we argue the significance of cross-stage
persistence in dependently typed multi-stage programming and certain type
equivalences that are not directly derived from reduction rules.

\end{eabstract}

\begin{jabstract}				% Abstract in Japanese
日本語で概要を書く
\end{jabstract}

\tableofcontents				% Output table of contents

\input{text/introduction.tex}

\input{text/informal-overview.tex}

\input{text/formal-definition.tex}

\input{text/properties.tex}

\input{text/related-work.tex}

\input{text/conclusion.tex}

\input{text/acknowledgments.tex}

\bibliographystyle{kuisunsrt}
\bibliography{main}

\iffullversion
\appendix

%\newtheorem{thm}{Theorem}
\newtheorem{dfn}{Definition}
\newtheorem{ex}{Example}
\newtheorem{cm}{Comment}
\newcommand{\figheader}[2]{
  \begin{flushleft}
    #2 {\bf \normalsize #1}
\end{flushleft}}

\newpage
\section{Full Definition of \LMD}
\input{text/fulldefinitions}

\section{Proofs}
\input{text/proofs}

\fi

\end{document}
